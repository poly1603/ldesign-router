{"version":3,"file":"route-middleware.js","sources":["../../src/middleware/route-middleware.ts"],"sourcesContent":[null],"names":["MiddlewareComposer","constructor","middlewares","executionCount","errorHandlers","use","middleware","config","wrapper","name","length","enabled","priority","condition","push","sort","a","b","useMultiple","item","Array","isArray","execute","context","activeMiddlewares","filter","index","dispatch","i","Error","aborted","Promise","resolve","error","handleError","onError","handler","handlerError","console","remove","findIndex","w","splice","clear","getMiddlewares","getStats","totalMiddlewares","createLoggerMiddleware","options","verbose","logger","info","next","start","Date","now","from","path","to","undefined","duration","createPerformanceMiddleware","threshold","performance","onSlow","warn","toFixed","meta","navigationDuration","createAuthMiddleware","checkAuth","redirectTo","requiresAuth","needsAuth","isAuthenticated","createPermissionMiddleware","checkPermission","getRequiredPermissions","requiredPermissions","permissions","hasPermission","createTitleMiddleware","defaultTitle","suffix","prefix","document","title","fullTitle","createProgressMiddleware","progressBar","_context","showDelay","timer","setTimeout","createElement","style","cssText","height","color","body","appendChild","width","clearTimeout","createScrollMiddleware","scrollPositions","Map","window","key","fullPath","set","x","scrollX","y","scrollY","behavior","scrollTo","position","get","left","top","createMiddlewareComposer","createRouteContext","state","startTime"],"mappings":"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"}