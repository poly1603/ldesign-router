{"version":3,"file":"index.js","sources":["../../src/middleware/index.ts"],"sourcesContent":[null],"names":["MiddlewareManager","constructor","middlewares","Map","sortedMiddlewares","register","config","set","name","priority","enabled","updateSortedMiddlewares","registerMultiple","configs","forEach","unregister","delete","toggle","middleware","get","Array","from","values","filter","m","sort","a","b","execute","to","next","applicableMiddlewares","condition","length","currentIndex","context","data","index","total","executeNext","handler","error","logger","getAll","getEnabled","clear","authMiddleware","_from","meta","requiresAuth","isAuthenticated","user","localStorage","getItem","query","redirect","fullPath","route","permissionMiddleware","requiredPermissions","permissions","userPermissions","hasPermission","some","permission","includes","isArray","roleMiddleware","requiredRoles","roles","userRole","role","loggingMiddleware","_context","startTime","performance","now","info","path","endTime","duration","toFixed","titleMiddleware","title","document","progressMiddleware","_to","progressBar","getElementById","style","display","width","setTimeout","createCacheMiddleware","options","cache","maxAge","cacheKey","cached","Date","timestamp","exclude","createRateLimitMiddleware","requests","key","windowStart","windowMs","userRequests","validRequests","time","maxRequests","Error","push","middlewareManager"],"mappings":"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"}