{"version":3,"file":"route-state.js","sources":["../../src/state/route-state.ts"],"sourcesContent":[null],"names":["RouteStateManager","constructor","router","maxHistorySize","subscribers","state","reactive","current","currentRoute","value","previous","undefined","history","isNavigating","error","isLoading","cache","Map","setupWatchers","watch","to","from","updateState","immediate","beforeEach","_to","_from","next","afterEach","onError","previousRoute","addToHistory","getNavigationSource","notifySubscribers","route","source","historyItem","timestamp","Date","now","push","length","shift","getState","getCurrentRoute","getPreviousRoute","getHistory","getRecentRoutes","limit","slice","reverse","getMostVisitedRoutes","pathCounts","item","path","existing","get","count","lastVisit","Math","max","set","Array","entries","map","data","sort","a","b","canGoBack","isInHistory","some","clearHistory","setCache","key","getCache","clearCache","clear","subscribe","callback","index","indexOf","splice","console","getStats","oneHourAgo","oneDayAgo","recentHistory","filter","dailyHistory","totalNavigations","recentNavigations","dailyNavigations","uniqueRoutes","Set","size","averageNavigationsPerHour","cacheSize","hasError","exportState","stats","reset","createRouteStateManager","useRouteState","stateManager","computed","recentRoutes","mostVisitedRoutes"],"mappings":";;;;;;;;;;;MA0CaA,iBAAAA,CAAiB;AAAA,EAM5BC,YAAYC,MAAAA,EAAc;AAHlB,IAAA,IAAA,CAAAC,cAAAA,GAAiB,EAAA;AACjB,IAAA,IAAA,CAAAC,cAAkD,EAAA;AAGxD,IAAA,IAAA,CAAKF,MAAAA,GAASA,MAAAA;AACd,IAAA,IAAA,CAAKG,QAAQC,QAAAA,CAAS;AAAA,MACpBC,OAAAA,EAASL,OAAOM,YAAAA,CAAaC,KAAAA;AAAAA,MAC7BC,QAAAA,EAAUC,MAAAA;AAAAA,MACVC,SAAS,EAAA;AAAA,MACTC,YAAAA,EAAc,KAAA;AAAA,MACdC,KAAAA,EAAOH,MAAAA;AAAAA,MACPI,SAAAA,EAAW,KAAA;AAAA,MACXC,KAAAA,sBAAWC,GAAAA;AAAG,KACf,CAAA;AAED,IAAA,IAAA,CAAKC,aAAAA,EAAa;AAAA,EACpB;AAAA;AAAA;AAAA;AAAA,EAKQA,aAAAA,GAAa;AAEnBC,IAAAA,KAAAA,CACE,MAAM,IAAA,CAAKjB,MAAAA,CAAOM,aAAaC,KAAAA,EAC/B,CAACW,IAAIC,IAAAA,KAAQ;AACX,MAAA,IAAA,CAAKC,WAAAA,CAAYF,IAAIC,IAAI,CAAA;AAAA,IAC3B,CAAA,EACA;AAAA,MAAEE,SAAAA,EAAW;AAAA,KAAM,CAAA;AAIrB,IAAA,IAAA,CAAKrB,MAAAA,CAAOsB,UAAAA,CAAW,CAACC,GAAAA,EAAKC,OAAOC,IAAAA,KAAQ;AAC1C,MAAA,IAAA,CAAKtB,MAAMQ,YAAAA,GAAe,IAAA;AAC1B,MAAA,IAAA,CAAKR,MAAMU,SAAAA,GAAY,IAAA;AACvB,MAAA,IAAA,CAAKV,MAAMS,KAAAA,GAAQH,MAAAA;AACnBgB,MAAAA,IAAAA;IACF,CAAC,CAAA;AAGD,IAAA,IAAA,CAAKzB,MAAAA,CAAO0B,SAAAA,CAAU,CAACH,GAAAA,EAAKC,KAAAA,KAAS;AACnC,MAAA,IAAA,CAAKrB,MAAMQ,YAAAA,GAAe,KAAA;AAC1B,MAAA,IAAA,CAAKR,MAAMU,SAAAA,GAAY,KAAA;AAAA,IACzB,CAAC,CAAA;AAGD,IAAA,IAAA,CAAKb,MAAAA,CAAO2B,QAASf,CAAAA,KAAAA,KAAS;AAC5B,MAAA,IAAA,CAAKT,MAAMS,KAAAA,GAAQA,KAAAA;AACnB,MAAA,IAAA,CAAKT,MAAMQ,YAAAA,GAAe,KAAA;AAC1B,MAAA,IAAA,CAAKR,MAAMU,SAAAA,GAAY,KAAA;AAAA,IACzB,CAAC,CAAA;AAAA,EACH;AAAA;AAAA;AAAA;AAAA,EAKQO,WAAAA,CAAYF,IAA6BC,IAAAA,EAA8B;AAC7E,IAAA,MAAMS,aAAAA,GAAgB,KAAKzB,KAAAA,CAAME,OAAAA;AAEjC,IAAA,IAAA,CAAKF,MAAME,OAAAA,GAAUa,EAAAA;AACrB,IAAA,IAAA,CAAKf,MAAMK,QAAAA,GAAWoB,aAAAA;AAGtB,IAAA,IAAIT,IAAAA,EAAM;AACR,MAAA,IAAA,CAAKU,YAAAA,CAAaX,EAAAA,EAAI,IAAA,CAAKY,mBAAAA,EAAqB,CAAA;AAAA,IAClD;AAGA,IAAA,IAAA,CAAKC,iBAAAA,EAAiB;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA,EAKQD,mBAAAA,GAAmB;AAEzB,IAAA,OAAO,MAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQD,YAAAA,CAAaG,OAAgCC,MAAAA,EAAkC;AACrF,IAAA,MAAMC,WAAAA,GAAgC;AAAA,MACpCF,KAAAA;AAAAA,MACAG,SAAAA,EAAWC,KAAKC,GAAAA,EAAG;AAAA,MACnBJ;AAAAA;AAGF,IAAA,IAAA,CAAK9B,KAAAA,CAAMO,OAAAA,CAAQ4B,IAAAA,CAAKJ,WAAW,CAAA;AAGnC,IAAA,IAAI,IAAA,CAAK/B,KAAAA,CAAMO,OAAAA,CAAQ6B,MAAAA,GAAS,KAAKtC,cAAAA,EAAgB;AACnD,MAAA,IAAA,CAAKE,KAAAA,CAAMO,QAAQ8B,KAAAA;IACrB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKAC,QAAAA,GAAQ;AACN,IAAA,OAAO,IAAA,CAAKtC,KAAAA;AAAAA,EACd;AAAA;AAAA;AAAA;AAAA,EAKAuC,eAAAA,GAAe;AACb,IAAA,OAAO,KAAKvC,KAAAA,CAAME,OAAAA;AAAAA,EACpB;AAAA;AAAA;AAAA;AAAA,EAKAsC,gBAAAA,GAAgB;AACd,IAAA,OAAO,KAAKxC,KAAAA,CAAMK,QAAAA;AAAAA,EACpB;AAAA;AAAA;AAAA;AAAA,EAKAoC,UAAAA,GAAU;AACR,IAAA,OAAO,CAAC,GAAG,IAAA,CAAKzC,KAAAA,CAAMO,OAAO,CAAA;AAAA,EAC/B;AAAA;AAAA;AAAA;AAAA,EAKAmC,eAAAA,CAAgBC,QAAQ,EAAA,EAAE;AACxB,IAAA,OAAO,KAAK3C,KAAAA,CAAMO,OAAAA,CACfqC,MAAM,CAACD,KAAK,EACZE,OAAAA;EACL;AAAA;AAAA;AAAA;AAAA,EAKAC,oBAAAA,CAAqBH,QAAQ,EAAA,EAAE;AAC7B,IAAA,MAAMI,UAAAA,uBAAiBnC,GAAAA;AAEvB,IAAA,KAAA,MAAWoC,IAAAA,IAAQ,IAAA,CAAKhD,KAAAA,CAAMO,OAAAA,EAAS;AACrC,MAAA,MAAM0C,IAAAA,GAAOD,KAAKnB,KAAAA,CAAMoB,IAAAA;AACxB,MAAA,MAAMC,QAAAA,GAAWH,UAAAA,CAAWI,GAAAA,CAAIF,IAAI,CAAA;AAEpC,MAAA,IAAIC,QAAAA,EAAU;AACZA,QAAAA,QAAAA,CAASE,KAAAA,EAAAA;AACTF,QAAAA,QAAAA,CAASG,YAAYC,IAAAA,CAAKC,GAAAA,CAAIL,QAAAA,CAASG,SAAAA,EAAWL,KAAKhB,SAAS,CAAA;AAAA,MAClE,CAAA,MACK;AACHe,QAAAA,UAAAA,CAAWS,IAAIP,IAAAA,EAAM;AAAA,UAAEG,KAAAA,EAAO,CAAA;AAAA,UAAGC,WAAWL,IAAAA,CAAKhB;AAAAA,SAAW,CAAA;AAAA,MAC9D;AAAA,IACF;AAEA,IAAA,OAAOyB,KAAAA,CAAMzC,IAAAA,CAAK+B,UAAAA,CAAWW,OAAAA,EAAS,CAAA,CACnCC,GAAAA,CAAI,CAAC,CAACV,IAAAA,EAAMW,IAAI,CAAA,MAAO;AAAA,MAAEX,IAAAA;AAAAA,MAAM,GAAGW;AAAAA,KAAI,CAAG,CAAA,CACzCC,IAAAA,CAAK,CAACC,CAAAA,EAAGC,CAAAA,KAAMA,CAAAA,CAAEX,KAAAA,GAAQU,CAAAA,CAAEV,KAAK,CAAA,CAChCR,KAAAA,CAAM,GAAGD,KAAK,CAAA;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA,EAKAqB,SAAAA,GAAS;AACP,IAAA,OAAO,IAAA,CAAKhE,KAAAA,CAAMO,OAAAA,CAAQ6B,MAAAA,GAAS,CAAA;AAAA,EACrC;AAAA;AAAA;AAAA;AAAA,EAKA6B,YAAYhB,IAAAA,EAAY;AACtB,IAAA,OAAO,IAAA,CAAKjD,MAAMO,OAAAA,CAAQ2D,IAAAA,CAAKlB,UAAQA,IAAAA,CAAKnB,KAAAA,CAAMoB,SAASA,IAAI,CAAA;AAAA,EACjE;AAAA;AAAA;AAAA;AAAA,EAKAkB,YAAAA,GAAY;AACV,IAAA,IAAA,CAAKnE,KAAAA,CAAMO,UAAU,EAAA;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAKA6D,QAAAA,CAASC,KAAaT,IAAAA,EAAS;AAC7B,IAAA,IAAA,CAAK5D,KAAAA,CAAMW,KAAAA,CAAM6C,GAAAA,CAAIa,GAAAA,EAAKT,IAAI,CAAA;AAAA,EAChC;AAAA;AAAA;AAAA;AAAA,EAKAU,SAASD,GAAAA,EAAW;AAClB,IAAA,OAAO,IAAA,CAAKrE,KAAAA,CAAMW,KAAAA,CAAMwC,GAAAA,CAAIkB,GAAG,CAAA;AAAA,EACjC;AAAA;AAAA;AAAA;AAAA,EAKAE,UAAAA,GAAU;AACR,IAAA,IAAA,CAAKvE,KAAAA,CAAMW,MAAM6D,KAAAA;EACnB;AAAA;AAAA;AAAA;AAAA,EAKAC,UAAUC,QAAAA,EAAqC;AAC7C,IAAA,IAAA,CAAK3E,WAAAA,CAAYoC,KAAKuC,QAAQ,CAAA;AAG9B,IAAA,OAAO,MAAK;AACV,MAAA,MAAMC,KAAAA,GAAQ,IAAA,CAAK5E,WAAAA,CAAY6E,OAAAA,CAAQF,QAAQ,CAAA;AAC/C,MAAA,IAAIC,QAAQ,EAAA,EAAI;AACd,QAAA,IAAA,CAAK5E,WAAAA,CAAY8E,MAAAA,CAAOF,KAAAA,EAAO,CAAC,CAAA;AAAA,MAClC;AAAA,IACF,CAAA;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ/C,iBAAAA,GAAiB;AACvB,IAAA,KAAA,MAAW8C,QAAAA,IAAY,KAAK3E,WAAAA,EAAa;AACvC,MAAA,IAAI;AACF2E,QAAAA,QAAAA,CAAS,KAAK1E,KAAK,CAAA;AAAA,MACrB,SACOS,KAAAA,EAAO;AACZqE,QAAAA,OAAAA,CAAQrE,KAAAA,CAAM,mFAAkBA,KAAK,CAAA;AAAA,MACvC;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKAsE,QAAAA,GAAQ;AACN,IAAA,MAAM7C,GAAAA,GAAMD,KAAKC,GAAAA;AACjB,IAAA,MAAM8C,UAAAA,GAAa9C,GAAAA,GAAM,EAAA,GAAK,EAAA,GAAK,GAAA;AACnC,IAAA,MAAM+C,SAAAA,GAAY/C,GAAAA,GAAM,EAAA,GAAK,EAAA,GAAK,EAAA,GAAK,GAAA;AAEvC,IAAA,MAAMgD,aAAAA,GAAgB,KAAKlF,KAAAA,CAAMO,OAAAA,CAAQ4E,OAAOnC,CAAAA,IAAAA,KAAQA,IAAAA,CAAKhB,YAAYgD,UAAU,CAAA;AACnF,IAAA,MAAMI,YAAAA,GAAe,KAAKpF,KAAAA,CAAMO,OAAAA,CAAQ4E,OAAOnC,CAAAA,IAAAA,KAAQA,IAAAA,CAAKhB,YAAYiD,SAAS,CAAA;AAEjF,IAAA,OAAO;AAAA,MACLI,gBAAAA,EAAkB,IAAA,CAAKrF,KAAAA,CAAMO,OAAAA,CAAQ6B,MAAAA;AAAAA,MACrCkD,mBAAmBJ,aAAAA,CAAc9C,MAAAA;AAAAA,MACjCmD,kBAAkBH,YAAAA,CAAahD,MAAAA;AAAAA,MAC/BoD,YAAAA,EAAc,IAAIC,GAAAA,CAAI,IAAA,CAAKzF,KAAAA,CAAMO,OAAAA,CAAQoD,GAAAA,CAAIX,CAAAA,IAAAA,KAAQA,IAAAA,CAAKnB,KAAAA,CAAMoB,IAAI,CAAC,CAAA,CAAEyC,IAAAA;AAAAA,MACvEC,2BAA2BT,aAAAA,CAAc9C,MAAAA;AAAAA,MACzCwD,SAAAA,EAAW,IAAA,CAAK5F,KAAAA,CAAMW,KAAAA,CAAM+E,IAAAA;AAAAA,MAC5BlF,YAAAA,EAAc,KAAKR,KAAAA,CAAMQ,YAAAA;AAAAA,MACzBqF,QAAAA,EAAU,CAAC,CAAC,IAAA,CAAK7F,KAAAA,CAAMS;AAAAA;EAE3B;AAAA;AAAA;AAAA;AAAA,EAKAqF,WAAAA,GAAW;AACT,IAAA,OAAO;AAAA,MACL5F,OAAAA,EAAS,KAAKF,KAAAA,CAAME,OAAAA;AAAAA,MACpBG,QAAAA,EAAU,KAAKL,KAAAA,CAAMK,QAAAA;AAAAA,MACrBE,OAAAA,EAAS,KAAKkC,UAAAA,EAAU;AAAA,MACxBsD,KAAAA,EAAO,KAAKhB,QAAAA;AAAQ;EAExB;AAAA;AAAA;AAAA;AAAA,EAKAiB,KAAAA,GAAK;AACH,IAAA,IAAA,CAAKhG,MAAMK,QAAAA,GAAWC,MAAAA;AACtB,IAAA,IAAA,CAAKN,KAAAA,CAAMO,UAAU,EAAA;AACrB,IAAA,IAAA,CAAKP,MAAMQ,YAAAA,GAAe,KAAA;AAC1B,IAAA,IAAA,CAAKR,MAAMS,KAAAA,GAAQH,MAAAA;AACnB,IAAA,IAAA,CAAKN,MAAMU,SAAAA,GAAY,KAAA;AACvB,IAAA,IAAA,CAAKV,KAAAA,CAAMW,MAAM6D,KAAAA;EACnB;AACD;AAKK,SAAUyB,wBAAwBpG,MAAAA,EAAc;AACpD,EAAA,OAAO,IAAIF,kBAAkBE,MAAM,CAAA;AACrC;AAKM,SAAUqG,cAAcC,YAAAA,EAA+B;AAC3D,EAAA,MAAMnG,KAAAA,GAAQmG,aAAa7D,QAAAA;AAE3B,EAAA,OAAO;AAAA;AAAA,IAELpC,OAAAA,EAASkG,QAAAA,CAAS,MAAMpG,KAAAA,CAAME,OAAO,CAAA;AAAA,IACrCG,QAAAA,EAAU+F,QAAAA,CAAS,MAAMpG,KAAAA,CAAMK,QAAQ,CAAA;AAAA,IACvCG,YAAAA,EAAc4F,QAAAA,CAAS,MAAMpG,KAAAA,CAAMQ,YAAY,CAAA;AAAA,IAC/CE,SAAAA,EAAW0F,QAAAA,CAAS,MAAMpG,KAAAA,CAAMU,SAAS,CAAA;AAAA,IACzCD,KAAAA,EAAO2F,QAAAA,CAAS,MAAMpG,KAAAA,CAAMS,KAAK,CAAA;AAAA;AAAA,IAGjCF,OAAAA,EAAS6F,QAAAA,CAAS,MAAMpG,KAAAA,CAAMO,OAAO,CAAA;AAAA,IACrC8F,YAAAA,EAAcD,QAAAA,CAAS,MAAMD,YAAAA,CAAazD,iBAAiB,CAAA;AAAA,IAC3D4D,iBAAAA,EAAmBF,QAAAA,CAAS,MAAMD,YAAAA,CAAarD,sBAAsB,CAAA;AAAA;AAAA,IAGrEkB,SAAAA,EAAWoC,QAAAA,CAAS,MAAMD,YAAAA,CAAanC,WAAW,CAAA;AAAA,IAClD+B,KAAAA,EAAOK,QAAAA,CAAS,MAAMD,YAAAA,CAAapB,UAAU,CAAA;AAAA;AAAA,IAG7CZ,YAAAA,EAAcA,MAAMgC,YAAAA,CAAahC,YAAAA,EAAY;AAAA,IAC7CI,UAAAA,EAAYA,MAAM4B,YAAAA,CAAa5B,UAAAA,EAAU;AAAA,IACzCN,WAAAA,EAAchB,CAAAA,IAAAA,KAAiBkD,YAAAA,CAAalC,WAAAA,CAAYhB,IAAI,CAAA;AAAA,IAC5DmB,UAAUA,CAACC,GAAAA,EAAaT,SAAcuC,YAAAA,CAAa/B,QAAAA,CAASC,KAAKT,IAAI,CAAA;AAAA,IACrEU,QAAAA,EAAWD,CAAAA,GAAAA,KAAgB8B,YAAAA,CAAa7B,QAAAA,CAASD,GAAG,CAAA;AAAA,IACpDI,SAAAA,EAAYC,CAAAA,QAAAA,KAA0CyB,YAAAA,CAAa1B,SAAAA,CAAUC,QAAQ;AAAA;AAEzF;;;;;;;"}