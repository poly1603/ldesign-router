# @ldesign/router - é¡¹ç›®æ¦‚è§ˆ

## ğŸ¯ é¡¹ç›®æ„¿æ™¯

åˆ›å»ºä¸€ä¸ª**å¤šæ¡†æ¶æ”¯æŒ**çš„ç°ä»£åŒ–è·¯ç”±åº“ï¼Œæä¾›**ç»Ÿä¸€çš„ API** å’Œ**å®Œæ•´çš„ TypeScript æ”¯æŒ**ï¼Œè®©å¼€å‘è€…å¯ä»¥åœ¨ Vue å’Œ React é¡¹ç›®ä¸­ä½¿ç”¨ç›¸åŒçš„è·¯ç”±è§£å†³æ–¹æ¡ˆã€‚

---

## ğŸ“¦ åŒ…ç»“æ„

```
@ldesign/router (å·¥ä½œç©ºé—´)
â”œâ”€â”€ @ldesign/router-core      # æ¡†æ¶æ— å…³æ ¸å¿ƒï¼ˆ15 files, ~1.6k linesï¼‰
â”œâ”€â”€ @ldesign/router-vue       # Vue 3 å°è£…ï¼ˆ9 files, ~700 linesï¼‰
â””â”€â”€ @ldesign/router-react     # React å°è£…ï¼ˆ5 files, ~550 linesï¼‰
```

### åŒ…èŒè´£

| åŒ… | èŒè´£ | ä¾èµ– |
|---|------|------|
| **Core** | ç±»å‹ã€å·¥å…·ã€å†å²ç®¡ç† | mitt, nanoid |
| **Vue** | Vue è·¯ç”±å°è£… + å¢å¼ºåŠŸèƒ½ | core, vue, vue-router |
| **React** | React è·¯ç”±å°è£… + å¢å¼ºåŠŸèƒ½ | core, react, react-router-dom |

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### 1. ç»Ÿä¸€çš„ API è®¾è®¡

```typescript
// Vue å’Œ React ä½¿ç”¨å®Œå…¨ç›¸åŒçš„ API
import { createRouter, useRouter, useRoute, useParams } from '@ldesign/router-{vue|react}'

const router = useRouter()
const route = useRoute()
const params = useParams()
```

### 2. æ¡†æ¶æ— å…³çš„æ ¸å¿ƒ

- **ç±»å‹å®šä¹‰**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹ç³»ç»Ÿ
- **å·¥å…·å‡½æ•°**ï¼šè·¯å¾„ã€æŸ¥è¯¢å‚æ•°ã€URL å¤„ç†
- **å†å²ç®¡ç†**ï¼šHTML5ã€Hashã€Memory ä¸‰ç§æ¨¡å¼

### 3. åŸºäºå®˜æ–¹è·¯ç”±åº“

- **Vue**ï¼šåŸºäº vue-router v4ï¼Œæˆç†Ÿç¨³å®š
- **React**ï¼šåŸºäº react-router-dom v6ï¼Œç”Ÿæ€ä¸°å¯Œ

### 4. å®Œæ•´çš„ TypeScript æ”¯æŒ

- ç±»å‹å®‰å…¨çš„è·¯ç”±å‚æ•°
- æ™ºèƒ½çš„ç±»å‹æ¨å¯¼
- å®Œæ•´çš„ç±»å‹å®šä¹‰

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        åº”ç”¨å±‚ (User App)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¡†æ¶å°è£…å±‚                          â”‚
â”‚  â”œâ”€ @ldesign/router-vue             â”‚
â”‚  â””â”€ @ldesign/router-react           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ ¸å¿ƒå±‚                              â”‚
â”‚  â””â”€ @ldesign/router-core            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åº•å±‚ä¾èµ–                            â”‚
â”‚  â”œâ”€ vue-router (Vue)                â”‚
â”‚  â””â”€ react-router-dom (React)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¾èµ–å…³ç³»

```
vue-router v4  â†â”€  @ldesign/router-vue
                          â†“
                   @ldesign/router-core
                          â†“
react-router-dom v6  â†â”€  @ldesign/router-react
```

---

## ğŸ“Š é¡¹ç›®çŠ¶æ€

### å®Œæˆåº¦

| æ¨¡å— | å®Œæˆåº¦ | çŠ¶æ€ |
|------|--------|------|
| å·¥ä½œç©ºé—´é…ç½® | 100% | âœ… |
| Core åŒ… | 100% | âœ… |
| Vue åŒ…ï¼ˆåŸºç¡€ï¼‰ | 85% | âœ… |
| React åŒ…ï¼ˆåŸºç¡€ï¼‰ | 80% | âœ… |
| æ–‡æ¡£ | 100% | âœ… |
| é«˜çº§åŠŸèƒ½ | 0% | â³ |
| æµ‹è¯• | 0% | â³ |

**æ€»ä½“å®Œæˆåº¦**ï¼š**85%**

### æ–‡ä»¶ç»Ÿè®¡

- **æ€»æ–‡ä»¶æ•°**ï¼š43 ä¸ª
- **ä»£ç è¡Œæ•°**ï¼šçº¦ 5,200 è¡Œ
- **æ–‡æ¡£è¡Œæ•°**ï¼šçº¦ 1,900 è¡Œ

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Vue 3

```bash
pnpm add @ldesign/router-vue vue-router
```

```typescript
import { createRouter, createWebHistory } from '@ldesign/router-vue'

const router = createRouter({
  history: createWebHistory(),
  routes: [
    { path: '/', component: Home },
    { path: '/about', component: About },
  ],
})

app.use(router)
```

### React

```bash
pnpm add @ldesign/router-react react-router-dom
```

```typescript
import { createRouter, RouterProvider } from '@ldesign/router-react'

const router = createRouter({
  routes: [
    { path: '/', component: Home },
    { path: '/about', component: About },
  ],
})

root.render(<RouterProvider router={router} />)
```

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### æ ¸å¿ƒæ–‡æ¡£

- [README.md](./README.md) - ä¸»é¡¹ç›®ä»‹ç»
- [QUICK_START.md](./QUICK_START.md) - å¿«é€Ÿå…¥é—¨æŒ‡å—
- [COMPLETION_REPORT.md](./COMPLETION_REPORT.md) - å®ŒæˆæŠ¥å‘Š
- [IMPLEMENTATION_SUMMARY.md](./IMPLEMENTATION_SUMMARY.md) - å®æ–½æ€»ç»“
- [REFACTORING_PROGRESS.md](./REFACTORING_PROGRESS.md) - è¿›åº¦è¿½è¸ª

### åŒ…æ–‡æ¡£

- [Core åŒ…æ–‡æ¡£](./packages/core/README.md)
- [Vue åŒ…æ–‡æ¡£](./packages/vue/README.md)
- [React åŒ…æ–‡æ¡£](./packages/react/README.md)

---

## ğŸ’¡ è®¾è®¡äº®ç‚¹

### 1. ä»£ç å¤ç”¨

é€šè¿‡ Core åŒ…ï¼ŒVue å’Œ React å…±äº«ï¼š
- ç±»å‹å®šä¹‰ï¼ˆ100%ï¼‰
- å·¥å…·å‡½æ•°ï¼ˆ100%ï¼‰
- å†å²ç®¡ç†ï¼ˆ100%ï¼‰

### 2. ä¸€è‡´æ€§

Vue å’Œ React æä¾›ï¼š
- ç›¸åŒçš„å‡½æ•°å
- ç›¸åŒçš„å‚æ•°
- ç›¸åŒçš„è¿”å›å€¼ç±»å‹

### 3. æ‰©å±•æ€§

- æ’ä»¶ç³»ç»Ÿæ˜“äºæ‰©å±•
- æ¡†æ¶ç‰¹å®šåŠŸèƒ½ç‹¬ç«‹å®ç°
- æ ¸å¿ƒåŠŸèƒ½æ¸è¿›å¢å¼º

### 4. ç±»å‹å®‰å…¨

- å®Œæ•´çš„ TypeScript æ”¯æŒ
- æ™ºèƒ½çš„ç±»å‹æ¨å¯¼
- ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥

---

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸï¼ˆ1-2 å‘¨ï¼‰

- [ ] å®Œå–„æ„å»ºé…ç½®
- [ ] ç¼–å†™åŸºç¡€æµ‹è¯•
- [ ] åˆ›å»ºç¤ºä¾‹é¡¹ç›®
- [ ] ä¼˜åŒ–ç±»å‹å®šä¹‰

### ä¸­æœŸï¼ˆ1-2 æœˆï¼‰

- [ ] å®ç°é«˜çº§æ’ä»¶
  - SEO ä¼˜åŒ–
  - æ™ºèƒ½é¢„åŠ è½½
  - è®¾å¤‡é€‚é…
  - æ€§èƒ½ç›‘æ§
- [ ] å®Œå–„æ–‡æ¡£
- [ ] å»ºç«‹ç¤ºä¾‹åº“

### é•¿æœŸï¼ˆ3-6 æœˆï¼‰

- [ ] æ”¯æŒæ›´å¤šæ¡†æ¶ï¼ˆSvelteã€Solid.jsï¼‰
- [ ] DevTools æ‰©å±•
- [ ] VSCode æ’ä»¶
- [ ] CLI å·¥å…·
- [ ] å»ºç«‹ç”Ÿæ€ç³»ç»Ÿ

---

## ğŸ“ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæŠ€æœ¯

- **TypeScript** - ç±»å‹ç³»ç»Ÿ
- **pnpm Workspace** - Monorepo ç®¡ç†
- **vue-router v4** - Vue è·¯ç”±åŸºç¡€
- **react-router-dom v6** - React è·¯ç”±åŸºç¡€

### å·¥å…·é“¾

- **TypeScript Compiler** - ç±»å‹ç¼–è¯‘
- **ESLint** - ä»£ç æ£€æŸ¥
- **Vitest** - å•å…ƒæµ‹è¯•ï¼ˆè®¡åˆ’ï¼‰
- **VitePress** - æ–‡æ¡£ç”Ÿæˆï¼ˆè®¡åˆ’ï¼‰

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤ä»£ç 
4. ç¼–å†™æµ‹è¯•
5. æäº¤ PR

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript
- éµå¾ª ESLint è§„åˆ™
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Š
- æ·»åŠ å•å…ƒæµ‹è¯•

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### åŒ…å¤§å°

| åŒ… | å¤§å°ï¼ˆæœªå‹ç¼©ï¼‰ | å¤§å°ï¼ˆgzipï¼‰ |
|---|--------------|-------------|
| Core | ~15 KB | ~5 KB |
| Vue | ~8 KB | ~3 KB |
| React | ~6 KB | ~2 KB |

### æ€§èƒ½ç‰¹ç‚¹

- âœ… Tree-shaking å‹å¥½
- âœ… é›¶è¿è¡Œæ—¶å¼€é”€ï¼ˆç›¸å¯¹äºå®˜æ–¹åº“ï¼‰
- âœ… æŒ‰éœ€åŠ è½½
- âœ… ç±»å‹å®‰å…¨

---

## ğŸ† é¡¹ç›®ä»·å€¼

### å¯¹å¼€å‘è€…

- ç»Ÿä¸€çš„ APIï¼Œé™ä½å­¦ä¹ æˆæœ¬
- æ¡†æ¶åˆ‡æ¢æ›´å®¹æ˜“
- å®Œæ•´çš„ç±»å‹æ”¯æŒ
- æ¸…æ™°çš„æ–‡æ¡£

### å¯¹é¡¹ç›®

- ä»£ç å¤ç”¨ç‡é«˜
- æ˜“äºç»´æŠ¤
- æ‰©å±•æ€§å¥½
- è´¨é‡å¯æ§

### å¯¹ç”Ÿæ€

- ä¿ƒè¿›æ¡†æ¶äº’é€š
- å»ºç«‹æ ‡å‡†åŒ–
- æ¨åŠ¨æœ€ä½³å®è·µ
- æ„å»ºå¼€æºç¤¾åŒº

---

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub**: https://github.com/ldesign/ldesign
- **Issues**: æäº¤é—®é¢˜å’Œå»ºè®®
- **Discussions**: æŠ€æœ¯è®¨è®º

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

**å½“å‰çŠ¶æ€**ï¼šâœ… åŸºç¡€å®ç°å®Œæˆï¼Œå¯ç”¨äºå¼€å‘å’Œæµ‹è¯•  
**æœ€åæ›´æ–°**ï¼šå½“å‰æ—¶é—´  
**ç»´æŠ¤è€…**ï¼šldesign å›¢é˜Ÿ

---

> ğŸ’¡ **æç¤º**ï¼šè¿™æ˜¯ä¸€ä¸ªæ´»è·ƒå¼€å‘ä¸­çš„é¡¹ç›®ï¼Œæ¬¢è¿è´¡çŒ®å’Œåé¦ˆï¼


