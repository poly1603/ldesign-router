{"version":3,"file":"RouteSecurity.cjs","sources":["../../src/features/RouteSecurity.ts"],"sourcesContent":[null],"names":["AuthManager","constructor","config","token","state","reactive","isAuthenticated","user","loading","error","enabled","loginRoute","tokenKey","tokenStorage","refreshToken","tokenExpiry","loadToken","storage","getStorage","getItem","validateToken","setupTokenRefresh","sessionStorage","key","getCookie","setItem","value","setCookie","removeItem","deleteCookie","clear","length","localStorage","name","match","document","cookie","RegExp","days","expires","Date","now","toUTCString","payload","parseJWT","exp","logout","id","sub","console","base64Url","split","Error","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","refreshTimer","clearInterval","refreshInterval","setInterval","login","_credentials","btoa","stringify","Math","floor","setToken","undefined","getAuthHeader","Authorization","createAuthGuard","options","to","_from","_next","requiresAuth","meta","path","query","redirect","fullPath","isValid","PermissionManager","permissions","Set","roles","permissionCache","Map","mode","defaultRole","roleHierarchy","cachePermissions","addRole","role","add","forEach","inheritedRole","removeRole","delete","setRoles","addPermission","permission","removePermission","setPermissions","p","hasPermission","Array","isArray","cacheKey","has","get","result","every","set","hasRole","r","hasAnyPermission","some","hasAnyRole","createPermissionGuard","requiredPermissions","requiredRoles","requiresAny","hasAccess","from","CSRFProtection","tokenName","headerName","cookieName","validateMethods","generateToken","setupToken","array","Uint8Array","crypto","getRandomValues","byte","padStart","querySelector","createElement","setAttribute","head","appendChild","getToken","validateRequest","method","includes","toUpperCase","getHeaders","createInterceptor","request","headers","response","newToken","toLowerCase","XSSProtection","sanitizeParams","sanitizeQuery","whitelist","sanitizer","customSanitizer","defaultSanitizer","entityMap","String","s","sanitize","pattern","test","v","sanitized","sanitizeRoute","route","params","createXSSGuard","warn","validate","content","threats","push","safe","RouteSecurityManager","router","guardCleanups","authManager","auth","permissionManager","csrfProtection","csrf","xssProtection","xss","setupGuards","cleanup","beforeEach","credentials","success","can","setUserPermissions","setUserRoles","getSecurityHeaders","validateContent","getCurrentUser","destroy","defaultSecurityManager","setupRouteSecurity","checkPermission","sanitizeContent"],"mappings":"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"}